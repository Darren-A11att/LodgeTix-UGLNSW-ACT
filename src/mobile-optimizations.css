/* Mobile Optimizations CSS */

/* General touch improvements */
@layer base {
  body {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
  
  /* Improved mobile typography */
  @media (max-width: 640px) {
    h1 {
      @apply text-3xl leading-tight;
    }
    h2 {
      @apply text-2xl leading-tight;
    }
    h3 {
      @apply text-xl leading-tight;
    }
    p, li {
      @apply text-base leading-relaxed;
    }
  }
  
  /* Enhanced touch targets - 44px minimum size recommendation */
  @media (max-width: 640px) {
    button, 
    .btn-primary,
    .btn-secondary,
    .btn-outline,
    a.btn-primary,
    a.btn-secondary,
    a.btn-outline {
      @apply min-h-[44px] py-3 px-4;
    }
    
    /* Form field improvements */
    input, select, textarea {
      @apply mb-3;
    }
    
    /* Larger label text */
    label {
      @apply text-base mb-2;
    }
    
    /* Better spacing between form groups */
    .form-group + .form-group {
      @apply mt-6;
    }
  }
}

/* Enhanced mobile components */
@layer components {
  /* Compact card styles for registration type */
  .compact-card {
    @apply flex items-center p-3 border rounded-lg mb-2;
  }
  
  .compact-card-icon {
    @apply bg-primary/10 p-2 rounded-full flex-shrink-0;
  }
  
  .compact-card-content {
    @apply ml-3 flex-grow;
  }
  
  .compact-card-action {
    @apply ml-2 flex-shrink-0;
  }
  
  .compact-bullet {
    @apply flex items-center mr-3 text-xs;
  }
  
  .compact-bullet-dot {
    @apply w-1.5 h-1.5 bg-primary rounded-full mr-1 flex-shrink-0;
  }
  
  /* Fixed bottom navigation for forms */
  .mobile-form-nav {
    @apply fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-4 flex justify-between z-30 shadow-lg;
  }
  
  /* Add padding to bottom when fixed nav is present */
  .has-mobile-nav {
    @apply pb-20;
  }
  
  /* Card-based layouts for mobile */
  @media (max-width: 640px) {
    .mobile-card {
      @apply bg-white rounded-lg shadow-sm p-4 mb-4 border border-slate-100;
    }
    
    /* Collapse margins on mobile */
    .container-custom {
      @apply px-3;
    }
    
    /* Stack two-column layouts */
    .form-row {
      @apply grid-cols-1 gap-4;
    }
    
    /* Full width buttons */
    .btn-primary, .btn-secondary, .btn-outline {
      @apply w-full justify-center;
    }
    
    /* Improved mobile step indicator */
    .step-indicator-mobile {
      @apply flex items-center justify-between bg-white sticky top-0 z-20 border-b border-slate-200 px-4 py-3;
    }
  }
  
  /* Bottom sheet for mobile summary views */
  .mobile-bottom-sheet {
    @apply fixed bottom-0 left-0 right-0 bg-white rounded-t-xl shadow-xl z-40 max-h-[70vh] overflow-y-auto transform transition-transform duration-300;
  }
  
  .mobile-bottom-sheet-handle {
    @apply w-12 h-1 bg-slate-300 rounded-full mx-auto my-3;
  }
  
  .mobile-bottom-sheet-closed {
    @apply translate-y-full;
  }
  
  /* Floating action button for mobile */
  .mobile-fab {
    @apply fixed bottom-20 right-4 w-14 h-14 rounded-full bg-primary text-white flex items-center justify-center shadow-lg z-30;
  }
  
  /* Media queries for different device sizes */
  @media (min-width: 640px) {
    /* Switch back to vertical cards on larger screens */
    .compact-card {
      @apply block p-4;
    }
    
    .compact-card-icon {
      @apply mx-auto mb-3 p-3;
    }
    
    .compact-card-content {
      @apply mx-0 text-center;
    }
    
    .compact-bullet {
      @apply block my-2;
    }
  }
}
  
  /* Bottom sheet for mobile summary views */
  .mobile-bottom-sheet {
    @apply fixed bottom-0 left-0 right-0 bg-white rounded-t-xl shadow-xl z-40 max-h-[70vh] overflow-y-auto transform transition-transform duration-300;
  }
  
  .mobile-bottom-sheet-handle {
    @apply w-12 h-1 bg-slate-300 rounded-full mx-auto my-3;
  }
  
  .mobile-bottom-sheet-closed {
    @apply translate-y-full;
  }
  
  /* Floating action button for mobile */
  .mobile-fab {
    @apply fixed bottom-20 right-4 w-14 h-14 rounded-full bg-primary text-white flex items-center justify-center shadow-lg z-30;
  }
}

/* Additional accessibility improvements */
@layer utilities {
  /* Visually hidden but accessible to screen readers */
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
  }
  
  /* Improve touch targets without visual size change */
  .touch-target::before {
    content: "";
    @apply absolute -inset-3 z-[-1];
  }
}
